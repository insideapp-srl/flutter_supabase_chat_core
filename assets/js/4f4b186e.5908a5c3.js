"use strict";(self.webpackChunkflutter_supabase_chat_core=self.webpackChunkflutter_supabase_chat_core||[]).push([[639],{1126:(e,s,a)=>{a.r(s),a.d(s,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"introduction/supabase-project-configuration","title":"Supabase project preparation","description":"Create a Supabase project","source":"@site/docs/introduction/supabase-project-configuration.md","sourceDirName":"introduction","slug":"/introduction/supabase-project-configuration","permalink":"/introduction/supabase-project-configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/insideapp-srl/flutter_supabase_chat_core/docs/introduction/supabase-project-configuration.md","tags":[],"version":"current","frontMatter":{"id":"supabase-project-configuration","title":"Supabase project preparation"},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/"},"next":{"title":"Installation supabase_flutter","permalink":"/introduction/supabase-package-installation"}}');var r=a(4848),n=a(8453);const o={id:"supabase-project-configuration",title:"Supabase project preparation"},i=void 0,c={},l=[{value:"Create a Supabase project",id:"create-a-supabase-project",level:3},{value:"Prepare Supabase project",id:"prepare-supabase-project",level:4},{value:"Running prepare script",id:"running-prepare-script",level:4},{value:"Linux",id:"linux",level:4},{value:"Windows",id:"windows",level:4}];function d(e){const s={a:"a",blockquote:"blockquote",code:"code",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h3,{id:"create-a-supabase-project",children:"Create a Supabase project"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Install Supabase CLI: ",(0,r.jsx)(s.a,{href:"https://supabase.com/docs/guides/cli/getting-started",children:"Official documentation"})]}),"\n",(0,r.jsx)(s.li,{children:"Open your bash"}),"\n",(0,r.jsx)(s.li,{children:"Login with Supabase:"}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"supabase login\n"})}),"\n",(0,r.jsxs)(s.ol,{start:"4",children:["\n",(0,r.jsxs)(s.li,{children:["Create new project (For example ",(0,r.jsx)(s.code,{children:"demo-chat"}),"):"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"supabase projects create demo-chat\n"})}),"\n",(0,r.jsxs)(s.ol,{start:"5",children:["\n",(0,r.jsx)(s.li,{children:"Select your organization"}),"\n",(0,r.jsx)(s.li,{children:"Select an region"}),"\n",(0,r.jsx)(s.li,{children:"Insert a secure password for new Postgres database (Save this in a secure location)"}),"\n",(0,r.jsxs)(s.li,{children:["Obtain your ",(0,r.jsx)(s.code,{children:"REFERENCE ID"})," (After command select your project, for example ",(0,r.jsx)(s.code,{children:"demo-chat"}),"):"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"supabase projects list\n"})}),"\n",(0,r.jsxs)(s.ol,{start:"9",children:["\n",(0,r.jsxs)(s.li,{children:["Obtain your ",(0,r.jsx)(s.code,{children:"anon"})," key (After command select your project, for example ",(0,r.jsx)(s.code,{children:"demo-chat"}),"):"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"supabase projects api-keys\n"})}),"\n",(0,r.jsxs)(s.ol,{start:"10",children:["\n",(0,r.jsxs)(s.li,{children:["Edit ",(0,r.jsx)(s.code,{children:"example project"})," file ",(0,r.jsx)(s.code,{children:"example/lib/supabase_options.dart"}),", insert your project ",(0,r.jsx)(s.code,{children:"{{your_project_reference_id}}"})," and ",(0,r.jsx)(s.code,{children:"{{supabase_anon_key}}"})]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"prepare-supabase-project",children:"Prepare Supabase project"}),"\n",(0,r.jsxs)(s.p,{children:["Inside the example project (",(0,r.jsx)(s.code,{children:"example/utils"}),") there is a script, running the latter will automatically configure the Supabase project, creating tables, security rules, buckets and everything that is necessary for the example project to function."]}),"\n",(0,r.jsx)(s.p,{children:"In order to run the script you need to be aware of the following information about your Supabase project:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"host"})," : Project host"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"port"})," : Database port"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"database"})," : Database name"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"user"})," : Database user"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"password"})," : Database password"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"This information, with the exception of the password which is provided only during the creation of the database (if necessary, you can use the password reset function of your database to obtain it), can be found very easily from the Dashboard of your Supabase project:"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"Supabase dashboard database info",src:a(4896).A+"",title:"Database info",width:"1902",height:"859"})}),"\n",(0,r.jsx)(s.h4,{id:"running-prepare-script",children:"Running prepare script"}),"\n",(0,r.jsx)(s.p,{children:"Below are the commands for running the scripts (During execution you will be asked for the password for your database user):"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:["Required ",(0,r.jsx)(s.code,{children:"psql"})," installed -> ",(0,r.jsx)(s.a,{href:"https://www.postgresql.org/download/",children:"Official documentation"})]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"linux",children:"Linux"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'cd ./example/utils/\n./prepare.sh -h "your-postgres-host" -p your-postgres-port -d "your-postgres-database-name" -U "your-postgres-user"\n'})}),"\n",(0,r.jsx)(s.h4,{id:"windows",children:"Windows"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-powershell",children:'cd .\\example\\utils\\\n.\\prepare.ps1 -hostname "your-postgres-host" -port your-postgres-port -database "your-postgres-database-name" -user "your-postgres-user"\n'})}),"\n",(0,r.jsxs)(s.p,{children:["after running the database preparation script. you need to change the database schema exposure setting by adding the ",(0,r.jsx)(s.code,{children:"chats"})," schema (from the supabase dashboard):"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"Supabase dashboard schema exposure setting",src:a(2785).A+"",title:"Schema exposure setting",width:"2375",height:"1276"})}),"\n",(0,r.jsxs)(s.p,{children:["Optional (",(0,r.jsx)(s.strong,{children:"Only for test"}),"): Disable email verification and save the configuration (To speed up testing and allow user registration in just one click, it is advisable to disable mailbox verification):"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"Supabase dashboard disable email verification",src:a(2595).A+"",title:"Disable email verification",width:"2373",height:"1010"})}),"\n",(0,r.jsxs)(s.p,{children:["Read our ",(0,r.jsx)(s.a,{href:"https://flutter-supabase-chat-core.insideapp.it",children:"documentation"})," or see the ",(0,r.jsx)(s.a,{href:"https://github.com/insideapp-srl/flutter_supabase_chat_core/tree/main/example",children:"example"})," project. To run the example project you need to have your own ",(0,r.jsx)(s.a,{href:"https://supabase.com/dashboard/projects",children:"Supabase"})," project and then follow ",(0,r.jsx)(s.a,{href:"https://supabase.com/docs/reference/dart/initializing",children:"Add Supabase to your Flutter app"}),", override ",(0,r.jsx)(s.code,{children:"example/lib/supabase_options.dart"}),", don't commit it though \ud83d\ude09"]}),"\n",(0,r.jsxs)(s.p,{children:["After all of this is done you will need to register a couple of users and the example app will automatically suggest email and password on the register screen, default password is ",(0,r.jsx)(s.code,{children:"Qawsed1-"}),". To set up ",(0,r.jsx)(s.a,{href:"https://supabase.com/docs/guides/database/postgres/row-level-security",children:"Supabase Security Rules"})," so users can see only the data they should see, continue with our ",(0,r.jsx)(s.a,{href:"https://flutter-supabase-chat-core.insideapp.it/",children:"documentation"}),"."]})]})}function p(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},2595:(e,s,a)=>{a.d(s,{A:()=>t});const t=a.p+"assets/images/supabase-disable-confirm-email-a510819e7479138da509291e521ebe65.png"},4896:(e,s,a)=>{a.d(s,{A:()=>t});const t=a.p+"assets/images/supabase-project-credential-b51633995edaf1dac72926dc0dbbc8b4.png"},2785:(e,s,a)=>{a.d(s,{A:()=>t});const t=a.p+"assets/images/supabase-schema-exposure-setting-96adf81825735e0fd622bf96485ad723.png"},8453:(e,s,a)=>{a.d(s,{R:()=>o,x:()=>i});var t=a(6540);const r={},n=t.createContext(r);function o(e){const s=t.useContext(n);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(n.Provider,{value:s},e.children)}}}]);